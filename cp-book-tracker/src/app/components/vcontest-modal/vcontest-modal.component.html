
<div class="modal fade" id="exampleModal" tabindex="-1" aria- 
  labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Virtual contest</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" 
            aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="my-2">
          As for now, vistual contests can only be created with a random set of problems from the current book edition.
        </div>
        <form class="row g-3" #f="ngForm" (ngSubmit)="onSubmit(f)">
          <div class="col-md-4">
            <label for="start_time" class="form-label">Start time</label>
            <input type="time" class="form-control" aria-label="Start time" aria-describedby="start_time" name="start_time" ngModel> 
          </div>
          <div class="col-md-4">
            <input class="form-check-input me-1" type="radio" name="end_type" id="radio-end_time" value="end_time" ngModel>
            <label for="radio-end_time" class="form-label">End time</label>
            <input type="time" class="form-control" aria-label="End time" aria-describedby="end_time" name="end_time" ngModel>
          </div>
          <div class="col-md-4">
            <input class="form-check-input me-1" type="radio" name="end_type" id="radio-duration" value="duration" ngModel>
            <label for="radio-duration" class="form-label">Duration</label>
            <input type="text" class="form-control" aria-label="Duration" aria-describedby="duration" name="duration" ngModel>
          </div>
          <div class="col-12">
            <label for="inputAddress" class="form-label">Participants (comma-separated)</label>
            <input type="text" class="form-control" id="inputAddress" placeholder="Username" (keyup)="onUserInput($event)">
            <div class="mt-3 gap-2">
              <span class="badge text-bg-info me-1" *ngFor="let user of userList">
                <span class="my-auto">
                  {{ user }}
                </span>
                <button type="button" class="btn-close" aria-label="Close" (click)="removeUser(user)"></button>
              </span>
            </div>
          </div>
          <button type="submit" class="btn btn-success" data-bs-dismiss="modal" 
          aria-label="Create">
            Create
          </button>
        </form>
      </div>
    </div>
  </div>
</div>

<div class="toast-container position-fixed top-0 start-0 p-3">
  <div id="incorrectUserToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="toast-header">
      <span class="badge text-bg-danger me-2"><i class="bi bi-exclamation-lg"></i></span>
      <strong class="me-auto">Incorrect user name</strong>
      <small>now</small>
      <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
    <div class="toast-body">
      The user could not be found. Please try again.
    </div>
  </div>
  <div id="repeatedUserToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="toast-header">
      <span class="badge text-bg-danger me-2"><i class="bi bi-exclamation-lg"></i></span>
      <strong class="me-auto">User is a participant</strong>
      <small>now</small>
      <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
    <div class="toast-body">
      This user is already a participant in the contest. Please add a different user.
    </div>
  </div>
  <div id="minUserToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="toast-header">
      <span class="badge text-bg-danger me-2"><i class="bi bi-exclamation-lg"></i></span>
      <strong class="me-auto">No participants</strong>
      <small>now</small>
      <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
    <div class="toast-body">
      The contest must have at least one participant.
    </div>
  </div>
  <div id="invalidTimesToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="toast-header">
      <span class="badge text-bg-danger me-2"><i class="bi bi-exclamation-lg"></i></span>
      <strong class="me-auto">Invalid times</strong>
      <small>now</small>
      <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
    <div class="toast-body">
      Check the start and end times of the contest. <br>The end time must be later than the start time, and both must be in the future. <br>Also one of End time or Duration must be selected.
    </div>
  </div>
  <div id="userAddedToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="toast-header">
      <span class="badge text-bg-info me-2"><i class="bi bi-check-lg"></i></span>
      <strong class="me-auto">New participant</strong>
      <small>now</small>
      <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
    <div class="toast-body">
      User {{ userList.at(userList.length-1) }} has been added to the list of participants.
    </div>
  </div>
  <div id="vcontestCreatedToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="toast-header">
      <span class="badge text-bg-info me-2"><i class="bi bi-check-lg"></i></span>
      <strong class="me-auto">Vcontest creation</strong>
      <small>now</small>
      <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
    <div class="toast-body">
      The virtual contest has been created successfully.
      <div *ngIf="vcontest !== undefined">
        It will start at {{ timestampToDate(vcontest!.start_sbt) }} and end at {{ timestampToDate(vcontest!.end_sbt) }}.
        <br><br>
        Accessible at: <a href="https://uhunt.onlinejudge.org/vcontest/{{ vcontest!.id }}" target="_blank" rel="noopener">https://uhunt.onlinejudge.org/vcontest/{{ vcontest!.id }}</a>.
      </div>
    </div>
  </div>
</div>
